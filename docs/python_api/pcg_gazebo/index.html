



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.2">
    
    
      
        <title>pcg_gazebo - Procedural Generation for Gazebo</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.3020aac5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#pcg_gazebo" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Procedural Generation for Gazebo" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Procedural Generation for Gazebo
            </span>
            <span class="md-header-nav__topic">
              pcg_gazebo
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Procedural Generation for Gazebo" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Procedural Generation for Gazebo
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Python API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Python API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        pcg_gazebo
      </label>
    
    <a href="./" title="pcg_gazebo" class="md-nav__link md-nav__link--active">
      pcg_gazebo
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pcg_gazebo" title="pcg_gazebo" class="md-nav__link">
    pcg_gazebo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pcg_gazebolog" title="pcg_gazebo.log" class="md-nav__link">
    pcg_gazebo.log
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pcg_gazebotransformations" title="pcg_gazebo.transformations" class="md-nav__link">
    pcg_gazebo.transformations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirements" title="Requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes" title="Notes" class="md-nav__link">
    Notes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#references" title="References" class="md-nav__link">
    References
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#identity_matrix" title="identity_matrix" class="md-nav__link">
    identity_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translation_matrix" title="translation_matrix" class="md-nav__link">
    translation_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translation_from_matrix" title="translation_from_matrix" class="md-nav__link">
    translation_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reflection_matrix" title="reflection_matrix" class="md-nav__link">
    reflection_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reflection_from_matrix" title="reflection_from_matrix" class="md-nav__link">
    reflection_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotation_matrix" title="rotation_matrix" class="md-nav__link">
    rotation_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotation_from_matrix" title="rotation_from_matrix" class="md-nav__link">
    rotation_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scale_matrix" title="scale_matrix" class="md-nav__link">
    scale_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scale_from_matrix" title="scale_from_matrix" class="md-nav__link">
    scale_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#projection_matrix" title="projection_matrix" class="md-nav__link">
    projection_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#projection_from_matrix" title="projection_from_matrix" class="md-nav__link">
    projection_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clip_matrix" title="clip_matrix" class="md-nav__link">
    clip_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shear_matrix" title="shear_matrix" class="md-nav__link">
    shear_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shear_from_matrix" title="shear_from_matrix" class="md-nav__link">
    shear_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decompose_matrix" title="decompose_matrix" class="md-nav__link">
    decompose_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compose_matrix" title="compose_matrix" class="md-nav__link">
    compose_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orthogonalization_matrix" title="orthogonalization_matrix" class="md-nav__link">
    orthogonalization_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#superimposition_matrix" title="superimposition_matrix" class="md-nav__link">
    superimposition_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#euler_matrix" title="euler_matrix" class="md-nav__link">
    euler_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#euler_from_matrix" title="euler_from_matrix" class="md-nav__link">
    euler_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#euler_from_quaternion" title="euler_from_quaternion" class="md-nav__link">
    euler_from_quaternion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_from_euler" title="quaternion_from_euler" class="md-nav__link">
    quaternion_from_euler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_about_axis" title="quaternion_about_axis" class="md-nav__link">
    quaternion_about_axis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_matrix" title="quaternion_matrix" class="md-nav__link">
    quaternion_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_from_matrix" title="quaternion_from_matrix" class="md-nav__link">
    quaternion_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_multiply" title="quaternion_multiply" class="md-nav__link">
    quaternion_multiply
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_conjugate" title="quaternion_conjugate" class="md-nav__link">
    quaternion_conjugate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_inverse" title="quaternion_inverse" class="md-nav__link">
    quaternion_inverse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_slerp" title="quaternion_slerp" class="md-nav__link">
    quaternion_slerp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_quaternion" title="random_quaternion" class="md-nav__link">
    random_quaternion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_rotation_matrix" title="random_rotation_matrix" class="md-nav__link">
    random_rotation_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcball" title="Arcball" class="md-nav__link">
    Arcball
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#place" title="place" class="md-nav__link">
    place
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setaxes" title="setaxes" class="md-nav__link">
    setaxes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setconstrain" title="setconstrain" class="md-nav__link">
    setconstrain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getconstrain" title="getconstrain" class="md-nav__link">
    getconstrain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#down" title="down" class="md-nav__link">
    down
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drag" title="drag" class="md-nav__link">
    drag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#next" title="next" class="md-nav__link">
    next
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matrix" title="matrix" class="md-nav__link">
    matrix
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcball_map_to_sphere" title="arcball_map_to_sphere" class="md-nav__link">
    arcball_map_to_sphere
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcball_constrain_to_axis" title="arcball_constrain_to_axis" class="md-nav__link">
    arcball_constrain_to_axis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcball_nearest_axis" title="arcball_nearest_axis" class="md-nav__link">
    arcball_nearest_axis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vector_norm" title="vector_norm" class="md-nav__link">
    vector_norm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit_vector" title="unit_vector" class="md-nav__link">
    unit_vector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_vector" title="random_vector" class="md-nav__link">
    random_vector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inverse_matrix" title="inverse_matrix" class="md-nav__link">
    inverse_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concatenate_matrices" title="concatenate_matrices" class="md-nav__link">
    concatenate_matrices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_same_transform" title="is_same_transform" class="md-nav__link">
    is_same_transform
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pcg_gazebovisualization" title="pcg_gazebo.visualization" class="md-nav__link">
    pcg_gazebo.visualization
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pcg_gazebo.generators/" title="pcg_gazebo.generators" class="md-nav__link">
      pcg_gazebo.generators
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pcg_gazebo.generators.constraints/" title="pcg_gazebo.generators.constraints" class="md-nav__link">
      pcg_gazebo.generators.constraints
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pcg_gazebo.generators.engines/" title="pcg_gazebo.generators.engines" class="md-nav__link">
      pcg_gazebo.generators.engines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pcg_gazebo.parsers/" title="pcg_gazebo.parsers" class="md-nav__link">
      pcg_gazebo.parsers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pcg_gazebo.parsers.sdf_config/" title="pcg_gazebo.parsers.sdf_config" class="md-nav__link">
      pcg_gazebo.parsers.sdf_config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pcg_gazebo.parsers.sdf/" title="pcg_gazebo.parsers.sdf" class="md-nav__link">
      pcg_gazebo.parsers.sdf
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pcg_gazebo.parsers.types/" title="pcg_gazebo.parsers.types" class="md-nav__link">
      pcg_gazebo.parsers.types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pcg_gazebo.parsers.urdf/" title="pcg_gazebo.parsers.urdf" class="md-nav__link">
      pcg_gazebo.parsers.urdf
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pcg_gazebo.simulation/" title="pcg_gazebo.simulation" class="md-nav__link">
      pcg_gazebo.simulation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pcg_gazebo.simulation.physics/" title="pcg_gazebo.simulation.physics" class="md-nav__link">
      pcg_gazebo.simulation.physics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pcg_gazebo.simulation.properties/" title="pcg_gazebo.simulation.properties" class="md-nav__link">
      pcg_gazebo.simulation.properties
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pcg_gazebo.simulation.sensors/" title="pcg_gazebo.simulation.sensors" class="md-nav__link">
      pcg_gazebo.simulation.sensors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      Parsers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Parsers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1-1" type="checkbox" id="nav-3-1-1">
    
    <label class="md-nav__link" for="nav-3-1-1">
      SDF
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-1-1">
        SDF
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/sdf/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/sdf/geometries/" title="Geometries" class="md-nav__link">
      Geometries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/sdf/materials/" title="Materials" class="md-nav__link">
      Materials
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/sdf/collisions/" title="Collisions" class="md-nav__link">
      Collisions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/sdf/visuals/" title="Visuals" class="md-nav__link">
      Visuals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/sdf/links_joints_sensors/" title="Links, joints and sensors" class="md-nav__link">
      Links, joints and sensors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/sdf/models/" title="Models" class="md-nav__link">
      Models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/sdf/physics_engines/" title="Physics engines" class="md-nav__link">
      Physics engines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/sdf/plugins/" title="Plugins" class="md-nav__link">
      Plugins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/sdf/world/" title="World" class="md-nav__link">
      World
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/sdf/convert_from_sdf_file/" title="Convert from SDF file" class="md-nav__link">
      Convert from SDF file
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1-2" type="checkbox" id="nav-3-1-2">
    
    <label class="md-nav__link" for="nav-3-1-2">
      URDF
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-1-2">
        URDF
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/urdf/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/urdf/geometries/" title="Geometries" class="md-nav__link">
      Geometries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/urdf/collision/" title="Collisions" class="md-nav__link">
      Collisions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/urdf/visual/" title="Visuals" class="md-nav__link">
      Visuals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/urdf/links_joints_sensors/" title="Links, joints and sensors" class="md-nav__link">
      Links, joints and sensors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/parsers/urdf/robots/" title="Robots" class="md-nav__link">
      Robots
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Task manager
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Task manager
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/task_manager/gazebo_proxy/" title="Gazebo proxy" class="md-nav__link">
      Gazebo proxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/task_manager/process_manager/" title="Process manager" class="md-nav__link">
      Process manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/task_manager/stage_conditions/" title="Stage conditions" class="md-nav__link">
      Stage conditions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Simulation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        Simulation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/simulation/objects/" title="Dynamically creating objects" class="md-nav__link">
      Dynamically creating objects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/simulation/physics_engines/" title="Setting up different physics engines" class="md-nav__link">
      Setting up different physics engines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/simulation/surface_collision_properties/" title="Surface and collision properties" class="md-nav__link">
      Surface and collision properties
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/simulation/materials/" title="Materials" class="md-nav__link">
      Materials
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/simulation/building_a_model/" title="Building a model" class="md-nav__link">
      Building a model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/simulation/sensors/" title="Sensors" class="md-nav__link">
      Sensors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/simulation/meshes/" title="Meshes" class="md-nav__link">
      Meshes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pcg_gazebo" title="pcg_gazebo" class="md-nav__link">
    pcg_gazebo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pcg_gazebolog" title="pcg_gazebo.log" class="md-nav__link">
    pcg_gazebo.log
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pcg_gazebotransformations" title="pcg_gazebo.transformations" class="md-nav__link">
    pcg_gazebo.transformations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirements" title="Requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes" title="Notes" class="md-nav__link">
    Notes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#references" title="References" class="md-nav__link">
    References
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#identity_matrix" title="identity_matrix" class="md-nav__link">
    identity_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translation_matrix" title="translation_matrix" class="md-nav__link">
    translation_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translation_from_matrix" title="translation_from_matrix" class="md-nav__link">
    translation_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reflection_matrix" title="reflection_matrix" class="md-nav__link">
    reflection_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reflection_from_matrix" title="reflection_from_matrix" class="md-nav__link">
    reflection_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotation_matrix" title="rotation_matrix" class="md-nav__link">
    rotation_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotation_from_matrix" title="rotation_from_matrix" class="md-nav__link">
    rotation_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scale_matrix" title="scale_matrix" class="md-nav__link">
    scale_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scale_from_matrix" title="scale_from_matrix" class="md-nav__link">
    scale_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#projection_matrix" title="projection_matrix" class="md-nav__link">
    projection_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#projection_from_matrix" title="projection_from_matrix" class="md-nav__link">
    projection_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clip_matrix" title="clip_matrix" class="md-nav__link">
    clip_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shear_matrix" title="shear_matrix" class="md-nav__link">
    shear_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shear_from_matrix" title="shear_from_matrix" class="md-nav__link">
    shear_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decompose_matrix" title="decompose_matrix" class="md-nav__link">
    decompose_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compose_matrix" title="compose_matrix" class="md-nav__link">
    compose_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orthogonalization_matrix" title="orthogonalization_matrix" class="md-nav__link">
    orthogonalization_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#superimposition_matrix" title="superimposition_matrix" class="md-nav__link">
    superimposition_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#euler_matrix" title="euler_matrix" class="md-nav__link">
    euler_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#euler_from_matrix" title="euler_from_matrix" class="md-nav__link">
    euler_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#euler_from_quaternion" title="euler_from_quaternion" class="md-nav__link">
    euler_from_quaternion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_from_euler" title="quaternion_from_euler" class="md-nav__link">
    quaternion_from_euler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_about_axis" title="quaternion_about_axis" class="md-nav__link">
    quaternion_about_axis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_matrix" title="quaternion_matrix" class="md-nav__link">
    quaternion_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_from_matrix" title="quaternion_from_matrix" class="md-nav__link">
    quaternion_from_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_multiply" title="quaternion_multiply" class="md-nav__link">
    quaternion_multiply
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_conjugate" title="quaternion_conjugate" class="md-nav__link">
    quaternion_conjugate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_inverse" title="quaternion_inverse" class="md-nav__link">
    quaternion_inverse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quaternion_slerp" title="quaternion_slerp" class="md-nav__link">
    quaternion_slerp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_quaternion" title="random_quaternion" class="md-nav__link">
    random_quaternion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_rotation_matrix" title="random_rotation_matrix" class="md-nav__link">
    random_rotation_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcball" title="Arcball" class="md-nav__link">
    Arcball
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#place" title="place" class="md-nav__link">
    place
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setaxes" title="setaxes" class="md-nav__link">
    setaxes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setconstrain" title="setconstrain" class="md-nav__link">
    setconstrain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getconstrain" title="getconstrain" class="md-nav__link">
    getconstrain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#down" title="down" class="md-nav__link">
    down
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drag" title="drag" class="md-nav__link">
    drag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#next" title="next" class="md-nav__link">
    next
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matrix" title="matrix" class="md-nav__link">
    matrix
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcball_map_to_sphere" title="arcball_map_to_sphere" class="md-nav__link">
    arcball_map_to_sphere
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcball_constrain_to_axis" title="arcball_constrain_to_axis" class="md-nav__link">
    arcball_constrain_to_axis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcball_nearest_axis" title="arcball_nearest_axis" class="md-nav__link">
    arcball_nearest_axis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vector_norm" title="vector_norm" class="md-nav__link">
    vector_norm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit_vector" title="unit_vector" class="md-nav__link">
    unit_vector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_vector" title="random_vector" class="md-nav__link">
    random_vector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inverse_matrix" title="inverse_matrix" class="md-nav__link">
    inverse_matrix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concatenate_matrices" title="concatenate_matrices" class="md-nav__link">
    concatenate_matrices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_same_transform" title="is_same_transform" class="md-nav__link">
    is_same_transform
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pcg_gazebovisualization" title="pcg_gazebo.visualization" class="md-nav__link">
    pcg_gazebo.visualization
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>pcg_gazebo</h1>
                
                <h4 id="pcg_gazebo">pcg_gazebo<a class="headerlink" href="#pcg_gazebo" title="Permanent link">&para;</a></h4>
<p>Procedural generation package</p>
<p>This module implements the client for the procedural generation plugins in
Gazebo. This interface allows using Python to control the simulation state
in runtime with the help of the specific plugins write in the
<strong>pcg_gazebo_ros_plugins</strong>.</p>
<p>Example:</p>
<p>Attributes:
    module_level_variable1 (int):</p>
<p>Todo:
    * For module TODOs</p>
<h4 id="pcg_gazebolog">pcg_gazebo.log<a class="headerlink" href="#pcg_gazebolog" title="Permanent link">&para;</a></h4>
<h4 id="pcg_gazebotransformations">pcg_gazebo.transformations<a class="headerlink" href="#pcg_gazebotransformations" title="Permanent link">&para;</a></h4>
<p>Homogeneous Transformation Matrices and Quaternions.</p>
<p>A library for calculating 4x4 matrices for translating, rotating, reflecting,
scaling, shearing, projecting, orthogonalizing, and superimposing arrays of
3D homogeneous coordinates as well as for converting between rotation matrices,
Euler angles, and quaternions. Also includes an Arcball control object and
functions to decompose transformation matrices.</p>
<p>:Authors:
  <code class="codehilite">Christoph Gohlke &lt;http://www.lfd.uci.edu/~gohlke/&gt;</code>__,
  Laboratory for Fluorescence Dynamics, University of California, Irvine</p>
<p>:Version: 20090418</p>
<h5 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h5>
<ul>
<li><code class="codehilite">Python 2.6 &lt;http://www.python.org&gt;</code>__</li>
<li><code class="codehilite">Numpy 1.3 &lt;http://numpy.scipy.org&gt;</code>__</li>
<li><code class="codehilite">transformations.c 20090418 &lt;http://www.lfd.uci.edu/~gohlke/&gt;</code>__
  (optional implementation of some functions in C)</li>
</ul>
<h5 id="notes">Notes<a class="headerlink" href="#notes" title="Permanent link">&para;</a></h5>
<p>Matrices (M) can be inverted using numpy.linalg.inv(M), concatenated using
numpy.dot(M0, M1), or used to transform homogeneous coordinates (v) using
numpy.dot(M, v) for shape (4, *) "point of arrays", respectively
numpy.dot(v, M.T) for shape (*, 4) "array of points".</p>
<p>Calculations are carried out with numpy.float64 precision.</p>
<p>This Python implementation is not optimized for speed.</p>
<p>Vector, point, quaternion, and matrix function arguments are expected to be
"array like", i.e. tuple, list, or numpy arrays.</p>
<p>Return types are numpy arrays unless specified otherwise.</p>
<p>Angles are in radians unless specified otherwise.</p>
<p>Quaternions ix+jy+kz+w are represented as [x, y, z, w].</p>
<p>Use the transpose of transformation matrices for OpenGL glMultMatrixd().</p>
<p>A triple of Euler angles can be applied/interpreted in 24 ways, which can
be specified using a 4 character string or encoded 4-tuple:</p>
<p><em>Axes 4-string</em>: e.g. 'sxyz' or 'ryxy'</p>
<ul>
<li>first character : rotations are applied to 's'tatic or 'r'otating frame</li>
<li>remaining characters : successive rotation axis 'x', 'y', or 'z'</li>
</ul>
<p><em>Axes 4-tuple</em>: e.g. (0, 0, 0, 0) or (1, 1, 1, 1)</p>
<ul>
<li>inner axis: code of axis ('x':0, 'y':1, 'z':2) of rightmost matrix.</li>
<li>parity : even (0) if inner axis 'x' is followed by 'y', 'y' is followed
    by 'z', or 'z' is followed by 'x'. Otherwise odd (1).</li>
<li>repetition : first and last axis are same (1) or different (0).</li>
<li>frame : rotations are applied to static (0) or rotating (1) frame.</li>
</ul>
<h5 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h5>
<p>(1)  Matrices and transformations. Ronald Goldman.
     In "Graphics Gems I", pp 472-475. Morgan Kaufmann, 1990.
(2)  More matrices and transformations: shear and pseudo-perspective.
     Ronald Goldman. In "Graphics Gems II", pp 320-323. Morgan Kaufmann, 1991.
(3)  Decomposing a matrix into simple transformations. Spencer Thomas.
     In "Graphics Gems II", pp 320-323. Morgan Kaufmann, 1991.
(4)  Recovering the data from the transformation matrix. Ronald Goldman.
     In "Graphics Gems II", pp 324-331. Morgan Kaufmann, 1991.
(5)  Euler angle conversion. Ken Shoemake.
     In "Graphics Gems IV", pp 222-229. Morgan Kaufmann, 1994.
(6)  Arcball rotation control. Ken Shoemake.
     In "Graphics Gems IV", pp 175-192. Morgan Kaufmann, 1994.
(7)  Representing attitude: Euler angles, unit quaternions, and rotation
     vectors. James Diebel. 2006.
(8)  A discussion of the solution for the best rotation to relate two sets
     of vectors. W Kabsch. Acta Cryst. 1978. A34, 827-828.
(9)  Closed-form solution of absolute orientation using unit quaternions.
     BKP Horn. J Opt Soc Am A. 1987. 4(4), 629-642.
(10) Quaternions. Ken Shoemake.
     <a href="http://www.sfu.ca/~jwa3/cmpt461/files/quatut.pdf">http://www.sfu.ca/~jwa3/cmpt461/files/quatut.pdf</a>
(11) From quaternion to matrix and back. JMP van Waveren. 2005.
     <a href="http://www.intel.com/cd/ids/developer/asmo-na/eng/293748.htm">http://www.intel.com/cd/ids/developer/asmo-na/eng/293748.htm</a>
(12) Uniform random rotations. Ken Shoemake.
     In "Graphics Gems III", pp 124-132. Morgan Kaufmann, 1992.</p>
<h5 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h5>
<blockquote>
<blockquote>
<blockquote>
<p>alpha, beta, gamma = 0.123, -1.234, 2.345
origin, xaxis, yaxis, zaxis = (0, 0, 0), (1, 0, 0), (0, 1, 0), (0, 0, 1)
I = identity_matrix()
Rx = rotation_matrix(alpha, xaxis)
Ry = rotation_matrix(beta, yaxis)
Rz = rotation_matrix(gamma, zaxis)
R = concatenate_matrices(Rx, Ry, Rz)
euler = euler_from_matrix(R, 'rxyz')
numpy.allclose([alpha, beta, gamma], euler)
True
Re = euler_matrix(alpha, beta, gamma, 'rxyz')
is_same_transform(R, Re)
True
al, be, ga = euler_from_matrix(Re, 'rxyz')
is_same_transform(Re, euler_matrix(al, be, ga, 'rxyz'))
True
qx = quaternion_about_axis(alpha, xaxis)
qy = quaternion_about_axis(beta, yaxis)
qz = quaternion_about_axis(gamma, zaxis)
q = quaternion_multiply(qx, qy)
q = quaternion_multiply(q, qz)
Rq = quaternion_matrix(q)
is_same_transform(R, Rq)
True
S = scale_matrix(1.23, origin)
T = translation_matrix((1, 2, 3))
Z = shear_matrix(beta, xaxis, origin, zaxis)
R = random_rotation_matrix(numpy.random.rand(3))
M = concatenate_matrices(T, R, Z, S)
scale, shear, angles, trans, persp = decompose_matrix(M)
numpy.allclose(scale, 1.23)
True
numpy.allclose(trans, (1, 2, 3))
True
numpy.allclose(shear, (0, math.tan(beta), 0))
True
is_same_transform(R, euler_matrix(axes='sxyz', *angles))
True
M1 = compose_matrix(scale, shear, angles, trans, persp)
is_same_transform(M, M1)
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="identity_matrix">identity_matrix<a class="headerlink" href="#identity_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">identity_matrix</span><span class="p">()</span>
</pre></div>
Return 4x4 identity/unit matrix.</p>
<blockquote>
<blockquote>
<blockquote>
<p>I = identity_matrix()
numpy.allclose(I, numpy.dot(I, I))
True
numpy.sum(I), numpy.trace(I)
(4.0, 4.0)
numpy.allclose(I, numpy.identity(4, dtype=numpy.float64))
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="translation_matrix">translation_matrix<a class="headerlink" href="#translation_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">translation_matrix</span><span class="p">(</span><span class="n">direction</span><span class="p">)</span>
</pre></div>
Return matrix to translate by direction vector.</p>
<blockquote>
<blockquote>
<blockquote>
<p>v = numpy.random.random(3) - 0.5
numpy.allclose(v, translation_matrix(v)[:3, 3])
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="translation_from_matrix">translation_from_matrix<a class="headerlink" href="#translation_from_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">translation_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
Return translation vector from translation matrix.</p>
<blockquote>
<blockquote>
<blockquote>
<p>v0 = numpy.random.random(3) - 0.5
v1 = translation_from_matrix(translation_matrix(v0))
numpy.allclose(v0, v1)
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="reflection_matrix">reflection_matrix<a class="headerlink" href="#reflection_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">reflection_matrix</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">normal</span><span class="p">)</span>
</pre></div>
Return matrix to mirror at plane defined by point and normal vector.</p>
<blockquote>
<blockquote>
<blockquote>
<p>v0 = numpy.random.random(4) - 0.5
v0[3] = 1.0
v1 = numpy.random.random(3) - 0.5
R = reflection_matrix(v0, v1)
numpy.allclose(2., numpy.trace(R))
True
numpy.allclose(v0, numpy.dot(R, v0))
True
v2 = v0.copy()
v2[:3] += v1
v3 = v0.copy()
v2[:3] -= v1
numpy.allclose(v2, numpy.dot(R, v3))
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="reflection_from_matrix">reflection_from_matrix<a class="headerlink" href="#reflection_from_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">reflection_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
Return mirror plane point and normal vector from reflection matrix.</p>
<blockquote>
<blockquote>
<blockquote>
<p>v0 = numpy.random.random(3) - 0.5
v1 = numpy.random.random(3) - 0.5
M0 = reflection_matrix(v0, v1)
point, normal = reflection_from_matrix(M0)
M1 = reflection_matrix(point, normal)
is_same_transform(M0, M1)
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="rotation_matrix">rotation_matrix<a class="headerlink" href="#rotation_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">rotation_matrix</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">point</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Return matrix to rotate about axis defined by point and direction.</p>
<blockquote>
<blockquote>
<blockquote>
<p>angle = (random.random() - 0.5) * (2*math.pi)
direc = numpy.random.random(3) - 0.5
point = numpy.random.random(3) - 0.5
R0 = rotation_matrix(angle, direc, point)
R1 = rotation_matrix(angle-2*math.pi, direc, point)
is_same_transform(R0, R1)
True
R0 = rotation_matrix(angle, direc, point)
R1 = rotation_matrix(-angle, -direc, point)
is_same_transform(R0, R1)
True
I = numpy.identity(4, numpy.float64)
numpy.allclose(I, rotation_matrix(math.pi*2, direc))
True
numpy.allclose(2., numpy.trace(rotation_matrix(math.pi/2,
...                                                direc, point)))
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="rotation_from_matrix">rotation_from_matrix<a class="headerlink" href="#rotation_from_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">rotation_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
Return rotation angle and axis from rotation matrix.</p>
<blockquote>
<blockquote>
<blockquote>
<p>angle = (random.random() - 0.5) * (2*math.pi)
direc = numpy.random.random(3) - 0.5
point = numpy.random.random(3) - 0.5
R0 = rotation_matrix(angle, direc, point)
angle, direc, point = rotation_from_matrix(R0)
R1 = rotation_matrix(angle, direc, point)
is_same_transform(R0, R1)
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="scale_matrix">scale_matrix<a class="headerlink" href="#scale_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">scale_matrix</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Return matrix to scale by factor around origin in direction.</p>
<p>Use factor -1 for point symmetry.</p>
<blockquote>
<blockquote>
<blockquote>
<p>v = (numpy.random.rand(4, 5) - 0.5) * 20.0
v[3] = 1.0
S = scale_matrix(-1.234)
numpy.allclose(numpy.dot(S, v)[:3], -1.234*v[:3])
True
factor = random.random() * 10 - 5
origin = numpy.random.random(3) - 0.5
direct = numpy.random.random(3) - 0.5
S = scale_matrix(factor, origin)
S = scale_matrix(factor, origin, direct)</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="scale_from_matrix">scale_from_matrix<a class="headerlink" href="#scale_from_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">scale_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
Return scaling factor, origin and direction from scaling matrix.</p>
<blockquote>
<blockquote>
<blockquote>
<p>factor = random.random() * 10 - 5
origin = numpy.random.random(3) - 0.5
direct = numpy.random.random(3) - 0.5
S0 = scale_matrix(factor, origin)
factor, origin, direction = scale_from_matrix(S0)
S1 = scale_matrix(factor, origin, direction)
is_same_transform(S0, S1)
True
S0 = scale_matrix(factor, origin, direct)
factor, origin, direction = scale_from_matrix(S0)
S1 = scale_matrix(factor, origin, direction)
is_same_transform(S0, S1)
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="projection_matrix">projection_matrix<a class="headerlink" href="#projection_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">projection_matrix</span><span class="p">(</span><span class="n">point</span><span class="p">,</span>
                  <span class="n">normal</span><span class="p">,</span>
                  <span class="n">direction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                  <span class="n">perspective</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                  <span class="n">pseudo</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Return matrix to project onto plane defined by point and normal.</p>
<p>Using either perspective point, projection direction, or none of both.</p>
<p>If pseudo is True, perspective projections will preserve relative depth
such that Perspective = dot(Orthogonal, PseudoPerspective).</p>
<blockquote>
<blockquote>
<blockquote>
<p>P = projection_matrix((0, 0, 0), (1, 0, 0))
numpy.allclose(P[1:, 1:], numpy.identity(4)[1:, 1:])
True
point = numpy.random.random(3) - 0.5
normal = numpy.random.random(3) - 0.5
direct = numpy.random.random(3) - 0.5
persp = numpy.random.random(3) - 0.5
P0 = projection_matrix(point, normal)
P1 = projection_matrix(point, normal, direction=direct)
P2 = projection_matrix(point, normal, perspective=persp)
P3 = projection_matrix(point, normal, perspective=persp, pseudo=True)
is_same_transform(P2, numpy.dot(P0, P3))
True
P = projection_matrix((3, 0, 0), (1, 1, 0), (1, 0, 0))
v0 = (numpy.random.rand(4, 5) - 0.5) * 20.0
v0[3] = 1.0
v1 = numpy.dot(P, v0)
numpy.allclose(v1[1], v0[1])
True
numpy.allclose(v1[0], 3.0-v1[1])
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="projection_from_matrix">projection_from_matrix<a class="headerlink" href="#projection_from_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">projection_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">pseudo</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Return projection plane and perspective point from projection matrix.</p>
<p>Return values are same as arguments for projection_matrix function:
point, normal, direction, perspective, and pseudo.</p>
<blockquote>
<blockquote>
<blockquote>
<p>point = numpy.random.random(3) - 0.5
normal = numpy.random.random(3) - 0.5
direct = numpy.random.random(3) - 0.5
persp = numpy.random.random(3) - 0.5
P0 = projection_matrix(point, normal)
result = projection_from_matrix(P0)
P1 = projection_matrix(*result)
is_same_transform(P0, P1)
True
P0 = projection_matrix(point, normal, direct)
result = projection_from_matrix(P0)
P1 = projection_matrix(*result)
is_same_transform(P0, P1)
True
P0 = projection_matrix(point, normal, perspective=persp, pseudo=False)
result = projection_from_matrix(P0, pseudo=False)
P1 = projection_matrix(*result)
is_same_transform(P0, P1)
True
P0 = projection_matrix(point, normal, perspective=persp, pseudo=True)
result = projection_from_matrix(P0, pseudo=True)
P1 = projection_matrix(*result)
is_same_transform(P0, P1)
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="clip_matrix">clip_matrix<a class="headerlink" href="#clip_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">clip_matrix</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">near</span><span class="p">,</span> <span class="n">far</span><span class="p">,</span> <span class="n">perspective</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Return matrix to obtain normalized device coordinates from frustrum.</p>
<p>The frustrum bounds are axis-aligned along x (left, right),
y (bottom, top) and z (near, far).</p>
<p>Normalized device coordinates are in range [-1, 1] if coordinates are
inside the frustrum.</p>
<p>If perspective is True the frustrum is a truncated pyramid with the
perspective point at origin and direction along z axis, otherwise an
orthographic canonical view volume (a box).</p>
<p>Homogeneous coordinates transformed by the perspective clip matrix
need to be dehomogenized (devided by w coordinate).</p>
<blockquote>
<blockquote>
<blockquote>
<p>frustrum = numpy.random.rand(6)
frustrum[1] += frustrum[0]
frustrum[3] += frustrum[2]
frustrum[5] += frustrum[4]
M = clip_matrix(*frustrum, perspective=False)
numpy.dot(M, [frustrum[0], frustrum[2], frustrum[4], 1.0])
array([-1., -1., -1.,  1.])
numpy.dot(M, [frustrum[1], frustrum[3], frustrum[5], 1.0])
array([ 1.,  1.,  1.,  1.])
M = clip_matrix(*frustrum, perspective=True)
v = numpy.dot(M, [frustrum[0], frustrum[2], frustrum[4], 1.0])
v / v[3]
array([-1., -1., -1.,  1.])
v = numpy.dot(M, [frustrum[1], frustrum[3], frustrum[4], 1.0])
v / v[3]
array([ 1.,  1., -1.,  1.])</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="shear_matrix">shear_matrix<a class="headerlink" href="#shear_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">shear_matrix</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">normal</span><span class="p">)</span>
</pre></div>
Return matrix to shear by angle along direction vector on shear plane.</p>
<p>The shear plane is defined by a point and normal vector. The direction
vector must be orthogonal to the plane's normal vector.</p>
<p>A point P is transformed by the shear matrix into P" such that
the vector P-P" is parallel to the direction vector and its extent is
given by the angle of P-P'-P", where P' is the orthogonal projection
of P onto the shear plane.</p>
<blockquote>
<blockquote>
<blockquote>
<p>angle = (random.random() - 0.5) * 4*math.pi
direct = numpy.random.random(3) - 0.5
point = numpy.random.random(3) - 0.5
normal = numpy.cross(direct, numpy.random.random(3))
S = shear_matrix(angle, direct, point, normal)
numpy.allclose(1.0, numpy.linalg.det(S))
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="shear_from_matrix">shear_from_matrix<a class="headerlink" href="#shear_from_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">shear_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
Return shear angle, direction and plane from shear matrix.</p>
<blockquote>
<blockquote>
<blockquote>
<p>angle = (random.random() - 0.5) * 4*math.pi
direct = numpy.random.random(3) - 0.5
point = numpy.random.random(3) - 0.5
normal = numpy.cross(direct, numpy.random.random(3))
S0 = shear_matrix(angle, direct, point, normal)
angle, direct, point, normal = shear_from_matrix(S0)
S1 = shear_matrix(angle, direct, point, normal)
is_same_transform(S0, S1)
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="decompose_matrix">decompose_matrix<a class="headerlink" href="#decompose_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">decompose_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
Return sequence of transformations from transformation matrix.</p>
<p>matrix : array_like
    Non-degenerative homogeneous transformation matrix</p>
<p>Return tuple of:
    scale : vector of 3 scaling factors
    shear : list of shear factors for x-y, x-z, y-z axes
    angles : list of Euler angles about static x, y, z axes
    translate : translation vector along x, y, z axes
    perspective : perspective partition of matrix</p>
<p>Raise ValueError if matrix is of wrong type or degenerative.</p>
<blockquote>
<blockquote>
<blockquote>
<p>T0 = translation_matrix((1, 2, 3))
scale, shear, angles, trans, persp = decompose_matrix(T0)
T1 = translation_matrix(trans)
numpy.allclose(T0, T1)
True
S = scale_matrix(0.123)
scale, shear, angles, trans, persp = decompose_matrix(S)
scale[0]
0.123
R0 = euler_matrix(1, 2, 3)
scale, shear, angles, trans, persp = decompose_matrix(R0)
R1 = euler_matrix(*angles)
numpy.allclose(R0, R1)
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="compose_matrix">compose_matrix<a class="headerlink" href="#compose_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">compose_matrix</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
               <span class="n">shear</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
               <span class="n">angles</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
               <span class="n">translate</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
               <span class="n">perspective</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Return transformation matrix from sequence of transformations.</p>
<p>This is the inverse of the decompose_matrix function.</p>
<p>Sequence of transformations:
    scale : vector of 3 scaling factors
    shear : list of shear factors for x-y, x-z, y-z axes
    angles : list of Euler angles about static x, y, z axes
    translate : translation vector along x, y, z axes
    perspective : perspective partition of matrix</p>
<blockquote>
<blockquote>
<blockquote>
<p>scale = numpy.random.random(3) - 0.5
shear = numpy.random.random(3) - 0.5
angles = (numpy.random.random(3) - 0.5) * (2*math.pi)
trans = numpy.random.random(3) - 0.5
persp = numpy.random.random(4) - 0.5
M0 = compose_matrix(scale, shear, angles, trans, persp)
result = decompose_matrix(M0)
M1 = compose_matrix(*result)
is_same_transform(M0, M1)
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="orthogonalization_matrix">orthogonalization_matrix<a class="headerlink" href="#orthogonalization_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">orthogonalization_matrix</span><span class="p">(</span><span class="n">lengths</span><span class="p">,</span> <span class="n">angles</span><span class="p">)</span>
</pre></div>
Return orthogonalization matrix for crystallographic cell coordinates.</p>
<p>Angles are expected in degrees.</p>
<p>The de-orthogonalization matrix is the inverse.</p>
<blockquote>
<blockquote>
<blockquote>
<p>O = orthogonalization_matrix((10., 10., 10.), (90., 90., 90.))
numpy.allclose(O[:3, :3], numpy.identity(3, float) * 10)
True
O = orthogonalization_matrix([9.8, 12.0, 15.5], [87.2, 80.7, 69.7])
numpy.allclose(numpy.sum(O), 43.063229)
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="superimposition_matrix">superimposition_matrix<a class="headerlink" href="#superimposition_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">superimposition_matrix</span><span class="p">(</span><span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">scaling</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">usesvd</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Return matrix to transform given vector set into second vector set.</p>
<p>v0 and v1 are shape (3, *) or (4, *) arrays of at least 3 vectors.</p>
<p>If usesvd is True, the weighted sum of squared deviations (RMSD) is
minimized according to the algorithm by W. Kabsch [8]. Otherwise the
quaternion based algorithm by B. Horn [9] is used (slower when using
this Python implementation).</p>
<p>The returned matrix performs rotation, translation and uniform scaling
(if specified).</p>
<blockquote>
<blockquote>
<blockquote>
<p>v0 = numpy.random.rand(3, 10)
M = superimposition_matrix(v0, v0)
numpy.allclose(M, numpy.identity(4))
True
R = random_rotation_matrix(numpy.random.random(3))
v0 = ((1,0,0), (0,1,0), (0,0,1), (1,1,1))
v1 = numpy.dot(R, v0)
M = superimposition_matrix(v0, v1)
numpy.allclose(v1, numpy.dot(M, v0))
True
v0 = (numpy.random.rand(4, 100) - 0.5) * 20.0
v0[3] = 1.0
v1 = numpy.dot(R, v0)
M = superimposition_matrix(v0, v1)
numpy.allclose(v1, numpy.dot(M, v0))
True
S = scale_matrix(random.random())
T = translation_matrix(numpy.random.random(3)-0.5)
M = concatenate_matrices(T, R, S)
v1 = numpy.dot(M, v0)
v0[:3] += numpy.random.normal(0.0, 1e-9, 300).reshape(3, -1)
M = superimposition_matrix(v0, v1, scaling=True)
numpy.allclose(v1, numpy.dot(M, v0))
True
M = superimposition_matrix(v0, v1, scaling=True, usesvd=False)
numpy.allclose(v1, numpy.dot(M, v0))
True
v = numpy.empty((4, 100, 3), dtype=numpy.float64)
v[:, :, 0] = v0
M = superimposition_matrix(v0, v1, scaling=True, usesvd=False)
numpy.allclose(v1, numpy.dot(M, v[:, :, 0]))
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="euler_matrix">euler_matrix<a class="headerlink" href="#euler_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">euler_matrix</span><span class="p">(</span><span class="n">ai</span><span class="p">,</span> <span class="n">aj</span><span class="p">,</span> <span class="n">ak</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="s1">&#39;sxyz&#39;</span><span class="p">)</span>
</pre></div>
Return homogeneous rotation matrix from Euler angles and axis sequence.</p>
<p>ai, aj, ak : Euler's roll, pitch and yaw angles
axes : One of 24 axis sequences as string or encoded tuple</p>
<blockquote>
<blockquote>
<blockquote>
<p>R = euler_matrix(1, 2, 3, 'syxz')
numpy.allclose(numpy.sum(R[0]), -1.34786452)
True
R = euler_matrix(1, 2, 3, (0, 1, 0, 1))
numpy.allclose(numpy.sum(R[0]), -0.383436184)
True
ai, aj, ak = (4.0*math.pi) * (numpy.random.random(3) - 0.5)
for axes in _AXES2TUPLE.keys():
...    R = euler_matrix(ai, aj, ak, axes)
for axes in _TUPLE2AXES.keys():
...    R = euler_matrix(ai, aj, ak, axes)</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="euler_from_matrix">euler_from_matrix<a class="headerlink" href="#euler_from_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">euler_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="s1">&#39;sxyz&#39;</span><span class="p">)</span>
</pre></div>
Return Euler angles from rotation matrix for specified axis sequence.</p>
<p>axes : One of 24 axis sequences as string or encoded tuple</p>
<p>Note that many Euler angle triplets can describe one matrix.</p>
<blockquote>
<blockquote>
<blockquote>
<p>R0 = euler_matrix(1, 2, 3, 'syxz')
al, be, ga = euler_from_matrix(R0, 'syxz')
R1 = euler_matrix(al, be, ga, 'syxz')
numpy.allclose(R0, R1)
True
angles = (4.0*math.pi) * (numpy.random.random(3) - 0.5)
for axes in _AXES2TUPLE.keys():
...    R0 = euler_matrix(axes=axes, *angles)
...    R1 = euler_matrix(axes=axes, *euler_from_matrix(R0, axes))
...    if not numpy.allclose(R0, R1): print axes, "failed"</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="euler_from_quaternion">euler_from_quaternion<a class="headerlink" href="#euler_from_quaternion" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">euler_from_quaternion</span><span class="p">(</span><span class="n">quaternion</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="s1">&#39;sxyz&#39;</span><span class="p">)</span>
</pre></div>
Return Euler angles from quaternion for specified axis sequence.</p>
<blockquote>
<blockquote>
<blockquote>
<p>angles = euler_from_quaternion([0.06146124, 0, 0, 0.99810947])
numpy.allclose(angles, [0.123, 0, 0])
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="quaternion_from_euler">quaternion_from_euler<a class="headerlink" href="#quaternion_from_euler" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">quaternion_from_euler</span><span class="p">(</span><span class="n">ai</span><span class="p">,</span> <span class="n">aj</span><span class="p">,</span> <span class="n">ak</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="s1">&#39;sxyz&#39;</span><span class="p">)</span>
</pre></div>
Return quaternion from Euler angles and axis sequence.</p>
<p>ai, aj, ak : Euler's roll, pitch and yaw angles
axes : One of 24 axis sequences as string or encoded tuple</p>
<blockquote>
<blockquote>
<blockquote>
<p>q = quaternion_from_euler(1, 2, 3, 'ryxz')
numpy.allclose(q, [0.310622, -0.718287, 0.444435, 0.435953])
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="quaternion_about_axis">quaternion_about_axis<a class="headerlink" href="#quaternion_about_axis" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">quaternion_about_axis</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>
</pre></div>
Return quaternion for rotation about axis.</p>
<blockquote>
<blockquote>
<blockquote>
<p>q = quaternion_about_axis(0.123, (1, 0, 0))
numpy.allclose(q, [0.06146124, 0, 0, 0.99810947])
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="quaternion_matrix">quaternion_matrix<a class="headerlink" href="#quaternion_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">quaternion_matrix</span><span class="p">(</span><span class="n">quaternion</span><span class="p">)</span>
</pre></div>
Return homogeneous rotation matrix from quaternion.</p>
<blockquote>
<blockquote>
<blockquote>
<p>R = quaternion_matrix([0.06146124, 0, 0, 0.99810947])
numpy.allclose(R, rotation_matrix(0.123, (1, 0, 0)))
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="quaternion_from_matrix">quaternion_from_matrix<a class="headerlink" href="#quaternion_from_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">quaternion_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
Return quaternion from rotation matrix.</p>
<blockquote>
<blockquote>
<blockquote>
<p>R = rotation_matrix(0.123, (1, 2, 3))
q = quaternion_from_matrix(R)
numpy.allclose(q, [0.0164262, 0.0328524, 0.0492786, 0.9981095])
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="quaternion_multiply">quaternion_multiply<a class="headerlink" href="#quaternion_multiply" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">quaternion_multiply</span><span class="p">(</span><span class="n">quaternion1</span><span class="p">,</span> <span class="n">quaternion0</span><span class="p">)</span>
</pre></div>
Return multiplication of two quaternions.</p>
<blockquote>
<blockquote>
<blockquote>
<p>q = quaternion_multiply([1, -2, 3, 4], [-5, 6, 7, 8])
numpy.allclose(q, [-44, -14, 48, 28])
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="quaternion_conjugate">quaternion_conjugate<a class="headerlink" href="#quaternion_conjugate" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">quaternion_conjugate</span><span class="p">(</span><span class="n">quaternion</span><span class="p">)</span>
</pre></div>
Return conjugate of quaternion.</p>
<blockquote>
<blockquote>
<blockquote>
<p>q0 = random_quaternion()
q1 = quaternion_conjugate(q0)
q1[3] == q0[3] and all(q1[:3] == -q0[:3])
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="quaternion_inverse">quaternion_inverse<a class="headerlink" href="#quaternion_inverse" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">quaternion_inverse</span><span class="p">(</span><span class="n">quaternion</span><span class="p">)</span>
</pre></div>
Return inverse of quaternion.</p>
<blockquote>
<blockquote>
<blockquote>
<p>q0 = random_quaternion()
q1 = quaternion_inverse(q0)
numpy.allclose(quaternion_multiply(q0, q1), [0, 0, 0, 1])
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="quaternion_slerp">quaternion_slerp<a class="headerlink" href="#quaternion_slerp" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">quaternion_slerp</span><span class="p">(</span><span class="n">quat0</span><span class="p">,</span> <span class="n">quat1</span><span class="p">,</span> <span class="n">fraction</span><span class="p">,</span> <span class="n">spin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">shortestpath</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Return spherical linear interpolation between two quaternions.</p>
<blockquote>
<blockquote>
<blockquote>
<p>q0 = random_quaternion()
q1 = random_quaternion()
q = quaternion_slerp(q0, q1, 0.0)
numpy.allclose(q, q0)
True
q = quaternion_slerp(q0, q1, 1.0, 1)
numpy.allclose(q, q1)
True
q = quaternion_slerp(q0, q1, 0.5)
angle = math.acos(numpy.dot(q0, q))
numpy.allclose(2.0, math.acos(numpy.dot(q0, q1)) / angle) or         numpy.allclose(2.0, math.acos(-numpy.dot(q0, q1)) / angle)
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="random_quaternion">random_quaternion<a class="headerlink" href="#random_quaternion" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">random_quaternion</span><span class="p">(</span><span class="n">rand</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Return uniform random unit quaternion.</p>
<p>rand: array like or None
    Three independent random variables that are uniformly distributed
    between 0 and 1.</p>
<blockquote>
<blockquote>
<blockquote>
<p>q = random_quaternion()
numpy.allclose(1.0, vector_norm(q))
True
q = random_quaternion(numpy.random.random(3))
q.shape
(4,)</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="random_rotation_matrix">random_rotation_matrix<a class="headerlink" href="#random_rotation_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">random_rotation_matrix</span><span class="p">(</span><span class="n">rand</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Return uniform random rotation matrix.</p>
<p>rnd: array like
    Three independent random variables that are uniformly distributed
    between 0 and 1 for each returned quaternion.</p>
<blockquote>
<blockquote>
<blockquote>
<p>R = random_rotation_matrix()
numpy.allclose(numpy.dot(R.T, R), numpy.identity(4))
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="arcball">Arcball<a class="headerlink" href="#arcball" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">Arcball</span><span class="p">()</span>
</pre></div>
Virtual Trackball Control.</p>
<blockquote>
<blockquote>
<blockquote>
<p>ball = Arcball()
ball = Arcball(initial=numpy.identity(4))
ball.place([320, 320], 320)
ball.down([500, 250])
ball.drag([475, 275])
R = ball.matrix()
numpy.allclose(numpy.sum(R), 3.90583455)
True
ball = Arcball(initial=[0, 0, 0, 1])
ball.place([320, 320], 320)
ball.setaxes([1,1,0], [-1, 1, 0])
ball.setconstrain(True)
ball.down([400, 200])
ball.drag([200, 400])
R = ball.matrix()
numpy.allclose(numpy.sum(R), 0.2055924)
True
ball.next()</p>
</blockquote>
</blockquote>
</blockquote>
<h6 id="place">place<a class="headerlink" href="#place" title="Permanent link">&para;</a></h6>
<p><div class="codehilite"><pre><span></span><span class="n">Arcball</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span>
</pre></div>
Place Arcball, e.g. when window size changes.</p>
<p>center : sequence[2]
    Window coordinates of trackball center.
radius : float
    Radius of trackball in window coordinates.</p>
<h6 id="setaxes">setaxes<a class="headerlink" href="#setaxes" title="Permanent link">&para;</a></h6>
<p><div class="codehilite"><pre><span></span><span class="n">Arcball</span><span class="o">.</span><span class="n">setaxes</span><span class="p">(</span><span class="o">*</span><span class="n">axes</span><span class="p">)</span>
</pre></div>
Set axes to constrain rotations.</p>
<h6 id="setconstrain">setconstrain<a class="headerlink" href="#setconstrain" title="Permanent link">&para;</a></h6>
<p><div class="codehilite"><pre><span></span><span class="n">Arcball</span><span class="o">.</span><span class="n">setconstrain</span><span class="p">(</span><span class="n">constrain</span><span class="p">)</span>
</pre></div>
Set state of constrain to axis mode.</p>
<h6 id="getconstrain">getconstrain<a class="headerlink" href="#getconstrain" title="Permanent link">&para;</a></h6>
<p><div class="codehilite"><pre><span></span><span class="n">Arcball</span><span class="o">.</span><span class="n">getconstrain</span><span class="p">()</span>
</pre></div>
Return state of constrain to axis mode.</p>
<h6 id="down">down<a class="headerlink" href="#down" title="Permanent link">&para;</a></h6>
<p><div class="codehilite"><pre><span></span><span class="n">Arcball</span><span class="o">.</span><span class="n">down</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
</pre></div>
Set initial cursor window coordinates and pick constrain-axis.</p>
<h6 id="drag">drag<a class="headerlink" href="#drag" title="Permanent link">&para;</a></h6>
<p><div class="codehilite"><pre><span></span><span class="n">Arcball</span><span class="o">.</span><span class="n">drag</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
</pre></div>
Update current cursor window coordinates.</p>
<h6 id="next">next<a class="headerlink" href="#next" title="Permanent link">&para;</a></h6>
<p><div class="codehilite"><pre><span></span><span class="n">Arcball</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="n">acceleration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
</pre></div>
Continue rotation in direction of last drag.</p>
<h6 id="matrix">matrix<a class="headerlink" href="#matrix" title="Permanent link">&para;</a></h6>
<p><div class="codehilite"><pre><span></span><span class="n">Arcball</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span>
</pre></div>
Return homogeneous rotation matrix.</p>
<h5 id="arcball_map_to_sphere">arcball_map_to_sphere<a class="headerlink" href="#arcball_map_to_sphere" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">arcball_map_to_sphere</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span>
</pre></div>
Return unit sphere coordinates from window coordinates.</p>
<h5 id="arcball_constrain_to_axis">arcball_constrain_to_axis<a class="headerlink" href="#arcball_constrain_to_axis" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">arcball_constrain_to_axis</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>
</pre></div>
Return sphere point perpendicular to axis.</p>
<h5 id="arcball_nearest_axis">arcball_nearest_axis<a class="headerlink" href="#arcball_nearest_axis" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">arcball_nearest_axis</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">axes</span><span class="p">)</span>
</pre></div>
Return axis, which arc is nearest to point.</p>
<h5 id="vector_norm">vector_norm<a class="headerlink" href="#vector_norm" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">vector_norm</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Return length, i.e. eucledian norm, of ndarray along axis.</p>
<blockquote>
<blockquote>
<blockquote>
<p>v = numpy.random.random(3)
n = vector_norm(v)
numpy.allclose(n, numpy.linalg.norm(v))
True
v = numpy.random.rand(6, 5, 3)
n = vector_norm(v, axis=-1)
numpy.allclose(n, numpy.sqrt(numpy.sum(v*v, axis=2)))
True
n = vector_norm(v, axis=1)
numpy.allclose(n, numpy.sqrt(numpy.sum(v*v, axis=1)))
True
v = numpy.random.rand(5, 4, 3)
n = numpy.empty((5, 3), dtype=numpy.float64)
vector_norm(v, axis=1, out=n)
numpy.allclose(n, numpy.sqrt(numpy.sum(v*v, axis=1)))
True
vector_norm([])
0.0
vector_norm([1.0])
1.0</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="unit_vector">unit_vector<a class="headerlink" href="#unit_vector" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">unit_vector</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Return ndarray normalized by length, i.e. eucledian norm, along axis.</p>
<blockquote>
<blockquote>
<blockquote>
<p>v0 = numpy.random.random(3)
v1 = unit_vector(v0)
numpy.allclose(v1, v0 / numpy.linalg.norm(v0))
True
v0 = numpy.random.rand(5, 4, 3)
v1 = unit_vector(v0, axis=-1)
v2 = v0 / numpy.expand_dims(numpy.sqrt(numpy.sum(v0*v0, axis=2)), 2)
numpy.allclose(v1, v2)
True
v1 = unit_vector(v0, axis=1)
v2 = v0 / numpy.expand_dims(numpy.sqrt(numpy.sum(v0*v0, axis=1)), 1)
numpy.allclose(v1, v2)
True
v1 = numpy.empty((5, 4, 3), dtype=numpy.float64)
unit_vector(v0, axis=1, out=v1)
numpy.allclose(v1, v2)
True
list(unit_vector([]))
[]
list(unit_vector([1.0]))
[1.0]</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="random_vector">random_vector<a class="headerlink" href="#random_vector" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">random_vector</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
</pre></div>
Return array of random doubles in the half-open interval [0.0, 1.0).</p>
<blockquote>
<blockquote>
<blockquote>
<p>v = random_vector(10000)
numpy.all(v &gt;= 0.0) and numpy.all(v &lt; 1.0)
True
v0 = random_vector(10)
v1 = random_vector(10)
numpy.any(v0 == v1)
False</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="inverse_matrix">inverse_matrix<a class="headerlink" href="#inverse_matrix" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">inverse_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
Return inverse of square transformation matrix.</p>
<blockquote>
<blockquote>
<blockquote>
<p>M0 = random_rotation_matrix()
M1 = inverse_matrix(M0.T)
numpy.allclose(M1, numpy.linalg.inv(M0.T))
True
for size in range(1, 7):
...     M0 = numpy.random.rand(size, size)
...     M1 = inverse_matrix(M0)
...     if not numpy.allclose(M1, numpy.linalg.inv(M0)): print size</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="concatenate_matrices">concatenate_matrices<a class="headerlink" href="#concatenate_matrices" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">concatenate_matrices</span><span class="p">(</span><span class="o">*</span><span class="n">matrices</span><span class="p">)</span>
</pre></div>
Return concatenation of series of transformation matrices.</p>
<blockquote>
<blockquote>
<blockquote>
<p>M = numpy.random.rand(16).reshape((4, 4)) - 0.5
numpy.allclose(M, concatenate_matrices(M))
True
numpy.allclose(numpy.dot(M, M.T), concatenate_matrices(M, M.T))
True</p>
</blockquote>
</blockquote>
</blockquote>
<h5 id="is_same_transform">is_same_transform<a class="headerlink" href="#is_same_transform" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="n">is_same_transform</span><span class="p">(</span><span class="n">matrix0</span><span class="p">,</span> <span class="n">matrix1</span><span class="p">)</span>
</pre></div>
Return True if two matrices perform same transformation.</p>
<blockquote>
<blockquote>
<blockquote>
<p>is_same_transform(numpy.identity(4), numpy.identity(4))
True
is_same_transform(numpy.identity(4), random_rotation_matrix())
False</p>
</blockquote>
</blockquote>
</blockquote>
<h4 id="pcg_gazebovisualization">pcg_gazebo.visualization<a class="headerlink" href="#pcg_gazebovisualization" title="Permanent link">&para;</a></h4>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../.." title="Home" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </span>
            </div>
          </a>
        
        
          <a href="../pcg_gazebo.generators/" title="pcg_gazebo.generators" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                pcg_gazebo.generators
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.267712eb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>